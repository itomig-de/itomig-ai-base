<?xml version="1.0" encoding="UTF-8"?>
<itop_design xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="1.0">
  <constants>
  </constants>
  <classes>
    <class id="Ticket" _delta="merge">
      <methods>
        <method id="AISetTicketType" _delta="define">
          <comment>/**
            *
            * 
            */
          </comment>
          <static>false</static>
          <access>public</access>
          <code><![CDATA[	public function AISetTicketType()
    {
      $oAIService = new Itomig\iTop\Extension\AIBase\Service\AIService();
      $oAIEngine = $oAIService->GetAIEngine();
      $aType = $oAIEngine->determineType($this);
      if (($aType['type'] == "incident") || ($aType['type'] == "service_request")) {
        $this->Set("request_type", $aType['type']);
        $this->SetSessionMessageFromInstance("update", "Type set to ".$aType['type']. " - Reason: ".$aType['rationale'], "info", 0);
        $this->DBUpdate();
        return true;
      }
      return false;
	  }]]></code>
          <arguments/>
        </method>
      </methods>
    </class>


  </classes>
  <menus>
  </menus>
  <user_rights>
    <groups>
    </groups>
    <profiles>
    </profiles>
  </user_rights>
</itop_design>
